{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Build a mobile health-focused app where users enter age, weight, blood pressure, health conditions (from an expanded selectable list), allergies (including a “No allergies” option), and optionally a favorite food, then tap a “Search Foods” button to receive 1–5 allergen-safe food recommendations (including a “Star Meal” that highlights the user’s favorite food) with photos, health explanations, ingredients, cooking steps, nutrition summaries, and a medical disclaimer.",
  "architectural_notes": [
    "Need a strategy for dish photos in results (e.g., generated/static assets vs external image URLs) consistent with 'do not serve images from backend' constraint.",
    "Backend currently has an empty in-memory recipe database; add a seed dataset (and consider a scalable storage approach later) so recommendations can be returned.",
    "Decide on and maintain a canonical, expanded health-conditions list for the frontend (and how it maps to backend keywords used in recommendation logic).",
    "If adding a soundtrack, decide how audio assets are packaged/served (e.g., frontend static assets) and ensure user controls (mute/volume) and autoplay restrictions are handled."
  ],
  "known_issues": [
    "Results page shows no food options because the backend recipe/food dataset is empty (no recipes are being added to the database).",
    "Food photos are not displaying in the results UI (dish photo/image reference not rendering as expected).",
    "Tiger-themed decorative elements are not appearing in the UI as expected.",
    "Soundtrack/play button does not produce audio (background music not playing) even when the user presses play."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-build-a-frontend-flow-with-a-health-input-form-age-weight-sicknesses-health-conditions-systolic-and-diastolic-blood-pressure-and-a-primary-button-labeled-exactly-search-foods-that-triggers-fetching-recommendations-and-then-displays-the-results",
      "title": "Build a frontend flow with a health input form (age, weight, sicknesses/health conditions, systolic and diastolic blood pressure) and a primary button labeled exactly “Search Foods” that triggers fetching recommendations and then displays the results.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-results-view-that-displays-recommended-foods-with-explanations-and-includes-a-clear-english-disclaimer-that-the-app-provides-general-wellness-suggestions-and-is-not-medical-advice",
      "title": "Create a results view that displays recommended foods with explanations, and includes a clear English disclaimer that the app provides general wellness suggestions and is not medical advice.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-creative-visual-theme-across-the-app-colors-typography-spacing-and-component-styles-appropriate-for-a-health-nutrition-tool-avoiding-blue-and-purple-as-the-primary-palette",
      "title": "Apply a cohesive, creative visual theme across the app (colors, typography, spacing, and component styles) appropriate for a health/nutrition tool, avoiding blue-and-purple as the primary palette.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-imagery-for-the-app-and-render-it-from-the-frontend-as-static-assets-do-not-serve-images-from-the-backend",
      "title": "Add generated static imagery for the app and render it from the frontend as static assets (do not serve images from the backend).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-allergies-input-to-the-health-input-form-that-supports-selecting-multiple-common-allergies-e-g-nuts-dairy-gluten-shellfish-eggs-soy-and-also-allows-users-to-type-and-add-custom-allergies-as-tags",
      "title": "Add an Allergies input to the health input form that supports selecting multiple common allergies (e.g., nuts, dairy, gluten, shellfish, eggs, soy) and also allows users to type and add custom allergies as tags.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-recommendation-data-model-end-to-end-so-each-recommended-food-includes-a-dish-photo-reference-a-short-health-explanation-a-full-ingredient-list-step-by-step-cooking-instructions-and-a-nutrition-summary-e-g-calories-sodium-protein-and-render-all-of-these-details-in-the-results-view",
      "title": "Expand the recommendation data model end-to-end so each recommended food includes: a dish photo reference, a short health explanation, a full ingredient list, step-by-step cooking instructions, and a nutrition summary (e.g., calories, sodium, protein), and render all of these details in the results view.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-and-use-static-dish-photos-for-the-recommended-foods-as-frontend-static-assets-and-ensure-the-results-ui-loads-them-from-the-frontend-public-assets-path-with-a-graceful-fallback-if-an-image-is-missing",
      "title": "Add and use static dish photos for the recommended foods as frontend static assets, and ensure the results UI loads them from the frontend public assets path with a graceful fallback if an image is missing.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-facing-no-allergies-option-in-the-allergies-section-that-lets-users-explicitly-indicate-they-have-no-allergies-clears-any-selected-typed-allergies-and-sends-an-empty-allergies-list-to-the-backend-recommendation-query",
      "title": "Add a user-facing “No allergies” option in the Allergies section that lets users explicitly indicate they have no allergies, clears any selected/typed allergies, and sends an empty allergies list to the backend recommendation query.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-health-conditions-input-to-support-selecting-from-a-broad-built-in-list-of-common-health-conditions-while-still-allowing-custom-conditions-to-be-added-so-users-do-not-need-to-type-most-conditions-manually",
      "title": "Expand the Health Conditions input to support selecting from a broad, built-in list of common health conditions (while still allowing custom conditions to be added), so users do not need to type most conditions manually.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-results-ui-so-each-recommended-dish-reliably-renders-its-food-photo-when-the-dish-has-a-valid-photo-reference-and-only-shows-the-existing-image-not-available-fallback-when-the-photo-reference-is-missing-empty-or-the-asset-is-not-found",
      "title": "Fix the results UI so each recommended dish reliably renders its food photo when the dish has a valid photo reference, and only shows the existing “Image not available” fallback when the photo reference is missing/empty or the asset is not found.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-facing-no-health-conditions-option-in-the-health-conditions-section-that-lets-users-explicitly-indicate-they-have-no-health-conditions-when-selected-it-clears-any-selected-typed-conditions-and-submits-an-empty-healthconditions-list-in-the-recommendation-request",
      "title": "Add a user-facing “No health conditions” option in the Health Conditions section that lets users explicitly indicate they have no health conditions; when selected it clears any selected/typed conditions and submits an empty `healthConditions` list in the recommendation request.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-app-website-name-to-barrera-healthy-eats-everywhere-it-is-user-visible-including-the-html-document-title-and-the-in-app-header-footer-branding-text-that-currently-displays-healthyeats",
      "title": "Change the app/website name to “Barrera Healthy Eats” everywhere it is user-visible, including the HTML document title and the in-app header/footer branding text that currently displays “HealthyEats”.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-small-tiger-themed-decorative-elements-to-the-ui-as-subtle-accents-e-g-small-corner-edge-decals-in-the-header-and-or-hero-section-using-generated-static-image-assets-served-from-the-frontend-public-assets-path",
      "title": "Add small tiger-themed decorative elements to the UI as subtle accents (e.g., small corner/edge decals in the header and/or hero section) using generated static image assets served from the frontend public assets path.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-optional-soundtrack-background-music-feature-that-users-can-control-play-pause-and-volume-or-mute-with-the-soundtrack-off-by-default-and-the-user-s-choice-persisted-locally-so-it-stays-consistent-on-refresh",
      "title": "Add an optional soundtrack/background music feature that users can control (play/pause and volume or mute), with the soundtrack off by default and the user’s choice persisted locally so it stays consistent on refresh.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-tiger-decal-decorations-referenced-by-the-hero-section-render-reliably-in-the-ui-specifically-the-two-hero-section-images-in-frontend-src-app-tsx-must-load-from-assets-generated-tiger-decal-left-dim-256x256-png-and-assets-generated-tiger-decal-right-dim-256x256-png-and-be-visibly-present-on-the-initial-non-results-screen",
      "title": "Ensure the tiger decal decorations referenced by the hero section render reliably in the UI. Specifically, the two hero-section images in `frontend/src/App.tsx` must load from `/assets/generated/tiger-decal-left.dim_256x256.png` and `/assets/generated/tiger-decal-right.dim_256x256.png` and be visibly present on the initial (non-results) screen.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-verify-the-required-static-tiger-decal-image-assets-exist-in-the-frontend-public-assets-path-so-the-hero-section-can-load-them-place-them-under-frontend-public-assets-generated-using-the-exact-filenames-already-referenced-by-the-app",
      "title": "Add/verify the required static tiger decal image assets exist in the frontend public assets path so the hero section can load them. Place them under `frontend/public/assets/generated/` using the exact filenames already referenced by the app.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-soundtrack-play-behavior-so-that-pressing-the-play-control-produces-audible-audio-when-not-muted-and-does-not-fail-silently-the-soundtrack-must-be-loaded-from-the-existing-path-referenced-in-frontend-src-components-soundtrackcontrols-tsx-assets-audio-barrera-healthy-eats-theme-mp3",
      "title": "Fix the soundtrack play behavior so that pressing the Play control produces audible audio (when not muted) and does not fail silently. The soundtrack must be loaded from the existing path referenced in `frontend/src/components/SoundtrackControls.tsx`: `/assets/audio/barrera-healthy-eats-theme.mp3`.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-optional-favorite-food-text-input-to-the-health-input-form-so-a-user-can-enter-their-favorite-food-before-pressing-the-existing-primary-button-labeled-exactly-search-foods",
      "title": "Add a new optional \"Favorite food\" text input to the health input form so a user can enter their favorite food before pressing the existing primary button labeled exactly “Search Foods”.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-frontend-form-data-model-and-recommendation-request-to-include-an-optional-favoritefood-string-and-update-the-backend-canister-method-signature-used-by-the-frontend-to-accept-this-new-parameter-when-fetching-recommendations",
      "title": "Extend the frontend form data model and recommendation request to include an optional `favoriteFood` string, and update the backend canister method signature used by the frontend to accept this new parameter when fetching recommendations.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-results-ui-to-visibly-highlight-the-star-meal-in-the-recommendations-results-and-show-the-user-s-favorite-food-name-while-keeping-all-user-facing-text-in-english",
      "title": "Update the results UI to visibly highlight the “Star Meal” in the recommendations results (and show the user’s favorite food name), while keeping all user-facing text in English.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Health input form (age, weight, sicknesses/health conditions, blood pressure) with a “Search Foods” button",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Personalized food recommendations/results page based on entered health conditions and blood pressure",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Create a backend API that accepts a user's health inputs (age, weight, list of sicknesses/health conditions, and blood pressure) and returns a structured list of recommended foods tailored to those inputs.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend recommendation logic that uses sickness/condition keywords and blood pressure categories (e.g., low/normal/elevated/high) to select foods and provide brief explanations per food item.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add allergy input (multi-select and/or free text) to the health form",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Update recommendation filtering to exclude foods containing any user-listed allergens",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Expand results to return/display 1–5 recommendations (not just a single option)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "For each recommended food, display a dish photo, full ingredient list, step-by-step cooking instructions, and a nutrition summary (e.g., calories, sodium, protein)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Extend the backend food recommendation API to accept a list of user allergies, exclude recommendations whose ingredient lists contain any of the provided allergens, and return 1–5 recommendations maximum.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Seed the backend with an initial set of real food/recipe options (target ~30–40) so the app returns recommendations instead of an empty results page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Populate the backend in-memory `recipeDatabase` with a large built-in seed set of dishes so the app returns recommendations immediately after deployment (no manual `addRecipe` calls required). Target seeding at least 30 dishes (and add more if feasible within code-size limits), each including: `name`, `photoReference`, `healthExplanation`, `ingredients`, `instructions`, and `nutritionSummary` (calories, sodium, protein, carbohydrates, fats).",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Ensure seeded dishes use valid `photoReference` values compatible with the existing frontend `DishImage` behavior: either reference existing generated assets (e.g., `quinoa-bowl.dim_768x512.png`, `berries-parfait.dim_768x512.png`, `salmon-plate.dim_768x512.png`, `oatmeal-bowl.dim_768x512.png`, `leafy-greens-salad.dim_768x512.png`) or leave `photoReference` empty to intentionally trigger the frontend fallback (“Image not available”).",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a “No allergies” option to the allergies input so users can explicitly indicate they have no allergies and skip allergen filtering",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Expand the selectable list of health conditions to include a broad set of common conditions (so users don’t need to type most conditions manually)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Ensure the backend returns non-empty food recommendations by seeding the in-canister recipe database with a built-in set of real dishes available immediately after deployment (no manual addRecipe calls required).",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Make allergy filtering in getFoodRecommendations robust to common user input variations by applying case-insensitive matching between user allergies and dish ingredients, and ensure that an empty allergies list disables allergen filtering.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add a user-facing “No health conditions” option in the Health Conditions section that clears any selected/typed conditions and sends an empty conditions list to the backend recommendation query",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Change the website/app name to “Barrera Healthy Eats” (update branding/title where displayed)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add small tiger-themed decorative elements to the UI/visual theme (e.g., icons/illustrations as accents)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add an optional soundtrack/background music feature for the app/website (with user controls)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Ensure the soundtrack audio asset exists in the frontend public assets path at the exact URL used by the app: `/assets/audio/barrera-healthy-eats-theme.mp3`.",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Add a Favorite Food input and show a “Star Meal” result that highlights the user’s favorite food with ingredients/preparation guidance aligned to their health inputs",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Implement backend recommendation behavior so that when a user provides a non-empty favorite food, the returned recommendations include a dedicated “Star Meal” entry based on that favorite food, including a health explanation, ingredient list, cooking instructions, and nutrition summary.",
      "reqIds": [
        "REQ-28"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Barrera Healthy Eats",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}