{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 9,
  "summary": "Build a mobile health-focused app where users enter age, weight, blood pressure, health conditions (from an expanded selectable list), and allergies (including a “No allergies” option), then tap a “Search Foods” button to receive 1–5 allergen-safe food recommendations that include photos, health explanations, ingredients, cooking steps, nutrition summaries, and a medical disclaimer.",
  "architectural_notes": [
    "Need a strategy for dish photos in results (e.g., generated/static assets vs external image URLs) consistent with 'do not serve images from backend' constraint.",
    "Backend currently has an empty in-memory recipe database; add a seed dataset (and consider a scalable storage approach later) so recommendations can be returned.",
    "Decide on and maintain a canonical, expanded health-conditions list for the frontend (and how it maps to backend keywords used in recommendation logic)."
  ],
  "known_issues": [
    "Results page shows no food options because the backend recipe/food dataset is empty (no recipes are being added to the database)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-build-a-frontend-flow-with-a-health-input-form-age-weight-sicknesses-health-conditions-systolic-and-diastolic-blood-pressure-and-a-primary-button-labeled-exactly-search-foods-that-triggers-fetching-recommendations-and-then-displays-the-results",
      "title": "Build a frontend flow with a health input form (age, weight, sicknesses/health conditions, systolic and diastolic blood pressure) and a primary button labeled exactly “Search Foods” that triggers fetching recommendations and then displays the results.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-results-view-that-displays-recommended-foods-with-explanations-and-includes-a-clear-english-disclaimer-that-the-app-provides-general-wellness-suggestions-and-is-not-medical-advice",
      "title": "Create a results view that displays recommended foods with explanations, and includes a clear English disclaimer that the app provides general wellness suggestions and is not medical advice.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-creative-visual-theme-across-the-app-colors-typography-spacing-and-component-styles-appropriate-for-a-health-nutrition-tool-avoiding-blue-and-purple-as-the-primary-palette",
      "title": "Apply a cohesive, creative visual theme across the app (colors, typography, spacing, and component styles) appropriate for a health/nutrition tool, avoiding blue-and-purple as the primary palette.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-imagery-for-the-app-and-render-it-from-the-frontend-as-static-assets-do-not-serve-images-from-the-backend",
      "title": "Add generated static imagery for the app and render it from the frontend as static assets (do not serve images from the backend).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-allergies-input-to-the-health-input-form-that-supports-selecting-multiple-common-allergies-e-g-nuts-dairy-gluten-shellfish-eggs-soy-and-also-allows-users-to-type-and-add-custom-allergies-as-tags",
      "title": "Add an Allergies input to the health input form that supports selecting multiple common allergies (e.g., nuts, dairy, gluten, shellfish, eggs, soy) and also allows users to type and add custom allergies as tags.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-recommendation-data-model-end-to-end-so-each-recommended-food-includes-a-dish-photo-reference-a-short-health-explanation-a-full-ingredient-list-step-by-step-cooking-instructions-and-a-nutrition-summary-e-g-calories-sodium-protein-and-render-all-of-these-details-in-the-results-view",
      "title": "Expand the recommendation data model end-to-end so each recommended food includes: a dish photo reference, a short health explanation, a full ingredient list, step-by-step cooking instructions, and a nutrition summary (e.g., calories, sodium, protein), and render all of these details in the results view.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-and-use-static-dish-photos-for-the-recommended-foods-as-frontend-static-assets-and-ensure-the-results-ui-loads-them-from-the-frontend-public-assets-path-with-a-graceful-fallback-if-an-image-is-missing",
      "title": "Add and use static dish photos for the recommended foods as frontend static assets, and ensure the results UI loads them from the frontend public assets path with a graceful fallback if an image is missing.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-facing-no-allergies-option-in-the-allergies-section-that-lets-users-explicitly-indicate-they-have-no-allergies-clears-any-selected-typed-allergies-and-sends-an-empty-allergies-list-to-the-backend-recommendation-query",
      "title": "Add a user-facing “No allergies” option in the Allergies section that lets users explicitly indicate they have no allergies, clears any selected/typed allergies, and sends an empty allergies list to the backend recommendation query.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-health-conditions-input-to-support-selecting-from-a-broad-built-in-list-of-common-health-conditions-while-still-allowing-custom-conditions-to-be-added-so-users-do-not-need-to-type-most-conditions-manually",
      "title": "Expand the Health Conditions input to support selecting from a broad, built-in list of common health conditions (while still allowing custom conditions to be added), so users do not need to type most conditions manually.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Health input form (age, weight, sicknesses/health conditions, blood pressure) with a “Search Foods” button",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Personalized food recommendations/results page based on entered health conditions and blood pressure",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Create a backend API that accepts a user's health inputs (age, weight, list of sicknesses/health conditions, and blood pressure) and returns a structured list of recommended foods tailored to those inputs.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend recommendation logic that uses sickness/condition keywords and blood pressure categories (e.g., low/normal/elevated/high) to select foods and provide brief explanations per food item.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add allergy input (multi-select and/or free text) to the health form",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Update recommendation filtering to exclude foods containing any user-listed allergens",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Expand results to return/display 1–5 recommendations (not just a single option)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "For each recommended food, display a dish photo, full ingredient list, step-by-step cooking instructions, and a nutrition summary (e.g., calories, sodium, protein)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Extend the backend food recommendation API to accept a list of user allergies, exclude recommendations whose ingredient lists contain any of the provided allergens, and return 1–5 recommendations maximum.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Seed the backend with an initial set of real food/recipe options (target ~30–40) so the app returns recommendations instead of an empty results page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Populate the backend in-memory `recipeDatabase` with a large built-in seed set of dishes so the app returns recommendations immediately after deployment (no manual `addRecipe` calls required). Target seeding at least 30 dishes (and add more if feasible within code-size limits), each including: `name`, `photoReference`, `healthExplanation`, `ingredients`, `instructions`, and `nutritionSummary` (calories, sodium, protein, carbohydrates, fats).",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Ensure seeded dishes use valid `photoReference` values compatible with the existing frontend `DishImage` behavior: either reference existing generated assets (e.g., `quinoa-bowl.dim_768x512.png`, `berries-parfait.dim_768x512.png`, `salmon-plate.dim_768x512.png`, `oatmeal-bowl.dim_768x512.png`, `leafy-greens-salad.dim_768x512.png`) or leave `photoReference` empty to intentionally trigger the frontend fallback (“Image not available”).",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a “No allergies” option to the allergies input so users can explicitly indicate they have no allergies and skip allergen filtering",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Expand the selectable list of health conditions to include a broad set of common conditions (so users don’t need to type most conditions manually)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Ensure the backend returns non-empty food recommendations by seeding the in-canister recipe database with a built-in set of real dishes available immediately after deployment (no manual addRecipe calls required).",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Make allergy filtering in getFoodRecommendations robust to common user input variations by applying case-insensitive matching between user allergies and dish ingredients, and ensure that an empty allergies list disables allergen filtering.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Health input app with tailored food recommendations",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}